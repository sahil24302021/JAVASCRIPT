import { TavilyResearchAPIWrapper, TavilyResearchQueueResponse } from "./utils.cjs";
import { CallbackManagerForToolRun } from "@langchain/core/callbacks/manager";
import { StructuredTool, ToolParams } from "@langchain/core/tools";
import { z } from "zod/v3";
import { InferInteropZodOutput } from "@langchain/core/dist/utils/types/zod.js";

//#region src/tavily-research.d.ts
type ResearchModel = "mini" | "pro" | "auto";
type CitationFormat = "numbered" | "mla" | "apa" | "chicago";
type TavilyResearchAPIRetrieverFields = ToolParams & {
  /**
   * The base URL to be used for the Tavily Research API.
   */
  apiBaseUrl?: string;
  /**
   * The API key used for authentication with the Tavily Research API.
   */
  tavilyApiKey?: string;
  /**
   * The model used by the research agent.
   *
   * @default "auto"
   */
  model?: ResearchModel;
  /**
   * A JSON Schema object that defines the structure of the research output.
   * When provided, the research response will be structured to match this schema, ensuring a predictable and validated output shape.
   * Must include a 'properties' field, and may optionally include 'required' field.
   *
   * Example:
   *
   * ```json
   * {
      "properties": {
        "company": {
          "type": "string",
          "description": "The name of the company"
        },
        "key_metrics": {
          "type": "array",
          "description": "List of key performance metrics",
          "items": { "type": "string" }
        },
        "financial_details": {
          "type": "object",
          "description": "Detailed financial breakdown",
          "properties": {
            "operating_income": {
              "type": "number",
              "description": "Operating income for the period"
            }
          }
        }
      },
      "required": ["company"]
    }
   * ```json
   */
  outputSchema?: Record<string, unknown>;
  /**
   * Whether to stream the research results as they are generated.
   * When 'true', returns a Server-Sent Events (SSE) stream
   *
   * @default false
   */
  stream?: boolean;
  /**
   * The format for citations in the research report.
   *
   * @default "numbered"
   */
  citationFormat?: CitationFormat;
  /**
   * The name of the tool.
   *
   * @default "tavily_research"
   */
  name?: string;
  /**
   * The description of the tool.
   *
   * @default "Performs comprehensive research on a given topic using the Tavily Research API. Useful for when you need to answer complex questions or gather in-depth information about a subject. Input should be a research task or question."
   */
  description?: string;
  /**
   * Whether to return the tool's output directly.
   *
   * Setting this to true means that after the tool is called,
   * an agent should stop looping.
   *
   * @default false
   */
  returnDirect?: boolean;
  /**
   * An API wrapper that can be used to interact with the Tavily Research API. Useful for testing.
   *
   * If specified, the tool will use this API wrapper instead of creating a new one, and fields used
   * in API Wrapper initialization, like {@link TavilyResearchAPIRetrieverFields.tavilyApiKey}, will be
   * ignored.
   */
  apiWrapper?: TavilyResearchAPIWrapper;
};
declare const inputSchema: z.ZodObject<{
  input: z.ZodString;
  model: z.ZodOptional<z.ZodEnum<["mini", "pro", "auto"]>>;
  outputSchema: z.ZodOptional<z.ZodObject<{
    properties: z.ZodRecord<z.ZodString, z.ZodTypeAny>;
    required: z.ZodOptional<z.ZodArray<z.ZodString, "many">>;
  }, "strip", z.ZodTypeAny, {
    properties: Record<string, any>;
    required?: string[] | undefined;
  }, {
    properties: Record<string, any>;
    required?: string[] | undefined;
  }>>;
  stream: z.ZodOptional<z.ZodBoolean>;
  citationFormat: z.ZodOptional<z.ZodEnum<["numbered", "mla", "apa", "chicago"]>>;
}, "strip", z.ZodTypeAny, {
  input: string;
  model?: "auto" | "mini" | "pro" | undefined;
  outputSchema?: {
    properties: Record<string, any>;
    required?: string[] | undefined;
  } | undefined;
  stream?: boolean | undefined;
  citationFormat?: "apa" | "chicago" | "mla" | "numbered" | undefined;
}, {
  input: string;
  model?: "auto" | "mini" | "pro" | undefined;
  outputSchema?: {
    properties: Record<string, any>;
    required?: string[] | undefined;
  } | undefined;
  stream?: boolean | undefined;
  citationFormat?: "apa" | "chicago" | "mla" | "numbered" | undefined;
}>;
/**
 * A Tool for performing comprehensive research with the Tavily Research API.
 * Extends the StructuredTool class and provides an intelligent research agent
 * that can answer complex questions and gather in-depth information.
 *
 * Authentication is handled via an API key, which can be passed during
 * instantiation or set as an environment variable `TAVILY_API_KEY`.
 *
 * Example:
 * ```typescript
 * const tool = new TavilyResearch({
 *   model: "pro",
 *   citationFormat: "apa",
 *   tavilyApiKey: "YOUR_API_KEY"
 * });
 * const results = await tool.invoke({
 *   input: "What are the latest developments in quantum computing?"
 * });
 * console.log(results);
 * ```
 */
declare class TavilyResearch extends StructuredTool<typeof inputSchema> {
  static lc_name(): string;
  description: string;
  name: string;
  schema: z.ZodObject<{
    input: z.ZodString;
    model: z.ZodOptional<z.ZodEnum<["mini", "pro", "auto"]>>;
    outputSchema: z.ZodOptional<z.ZodObject<{
      properties: z.ZodRecord<z.ZodString, z.ZodTypeAny>;
      required: z.ZodOptional<z.ZodArray<z.ZodString, "many">>;
    }, "strip", z.ZodTypeAny, {
      properties: Record<string, any>;
      required?: string[] | undefined;
    }, {
      properties: Record<string, any>;
      required?: string[] | undefined;
    }>>;
    stream: z.ZodOptional<z.ZodBoolean>;
    citationFormat: z.ZodOptional<z.ZodEnum<["numbered", "mla", "apa", "chicago"]>>;
  }, "strip", z.ZodTypeAny, {
    input: string;
    model?: "auto" | "mini" | "pro" | undefined;
    outputSchema?: {
      properties: Record<string, any>;
      required?: string[] | undefined;
    } | undefined;
    stream?: boolean | undefined;
    citationFormat?: "apa" | "chicago" | "mla" | "numbered" | undefined;
  }, {
    input: string;
    model?: "auto" | "mini" | "pro" | undefined;
    outputSchema?: {
      properties: Record<string, any>;
      required?: string[] | undefined;
    } | undefined;
    stream?: boolean | undefined;
    citationFormat?: "apa" | "chicago" | "mla" | "numbered" | undefined;
  }>;
  apiBaseUrl?: string;
  model?: ResearchModel;
  outputSchema?: Record<string, unknown>;
  enableStream?: boolean;
  citationFormat?: CitationFormat;
  private apiWrapper;
  constructor(params?: TavilyResearchAPIRetrieverFields);
  _call(input: InferInteropZodOutput<typeof inputSchema>, _runManager?: CallbackManagerForToolRun): Promise<TavilyResearchQueueResponse | AsyncGenerator<Buffer, void, unknown> | {
    error: string;
  }>;
}
//#endregion
export { CitationFormat, ResearchModel, TavilyResearch, TavilyResearchAPIRetrieverFields };
//# sourceMappingURL=tavily-research.d.cts.map