{"version":3,"file":"tavily-research.d.ts","names":["CallbackManagerForToolRun","StructuredTool","ToolParams","z","InferInteropZodOutput","TavilyResearchAPIWrapper","TavilyResearchQueueResponse","ResearchModel","CitationFormat","TavilyResearchAPIRetrieverFields","Record","inputSchema","ZodString","ZodEnum","ZodOptional","ZodTypeAny","ZodRecord","ZodArray","ZodObject","ZodBoolean","TavilyResearch","Buffer","AsyncGenerator","Promise"],"sources":["../src/tavily-research.d.ts"],"sourcesContent":["import { CallbackManagerForToolRun } from \"@langchain/core/callbacks/manager\";\nimport { StructuredTool, ToolParams } from \"@langchain/core/tools\";\nimport { z } from \"zod/v3\";\nimport { InferInteropZodOutput } from \"@langchain/core/dist/utils/types/zod.js\";\nimport { TavilyResearchAPIWrapper, type TavilyResearchQueueResponse } from \"./utils.js\";\nexport type ResearchModel = \"mini\" | \"pro\" | \"auto\";\nexport type CitationFormat = \"numbered\" | \"mla\" | \"apa\" | \"chicago\";\nexport type TavilyResearchAPIRetrieverFields = ToolParams & {\n    /**\n     * The base URL to be used for the Tavily Research API.\n     */\n    apiBaseUrl?: string;\n    /**\n     * The API key used for authentication with the Tavily Research API.\n     */\n    tavilyApiKey?: string;\n    /**\n     * The model used by the research agent.\n     *\n     * @default \"auto\"\n     */\n    model?: ResearchModel;\n    /**\n     * A JSON Schema object that defines the structure of the research output.\n     * When provided, the research response will be structured to match this schema, ensuring a predictable and validated output shape.\n     * Must include a 'properties' field, and may optionally include 'required' field.\n     *\n     * Example:\n     *\n     * ```json\n     * {\n        \"properties\": {\n          \"company\": {\n            \"type\": \"string\",\n            \"description\": \"The name of the company\"\n          },\n          \"key_metrics\": {\n            \"type\": \"array\",\n            \"description\": \"List of key performance metrics\",\n            \"items\": { \"type\": \"string\" }\n          },\n          \"financial_details\": {\n            \"type\": \"object\",\n            \"description\": \"Detailed financial breakdown\",\n            \"properties\": {\n              \"operating_income\": {\n                \"type\": \"number\",\n                \"description\": \"Operating income for the period\"\n              }\n            }\n          }\n        },\n        \"required\": [\"company\"]\n      }\n     * ```json\n     */\n    outputSchema?: Record<string, unknown>;\n    /**\n     * Whether to stream the research results as they are generated.\n     * When 'true', returns a Server-Sent Events (SSE) stream\n     *\n     * @default false\n     */\n    stream?: boolean;\n    /**\n     * The format for citations in the research report.\n     *\n     * @default \"numbered\"\n     */\n    citationFormat?: CitationFormat;\n    /**\n     * The name of the tool.\n     *\n     * @default \"tavily_research\"\n     */\n    name?: string;\n    /**\n     * The description of the tool.\n     *\n     * @default \"Performs comprehensive research on a given topic using the Tavily Research API. Useful for when you need to answer complex questions or gather in-depth information about a subject. Input should be a research task or question.\"\n     */\n    description?: string;\n    /**\n     * Whether to return the tool's output directly.\n     *\n     * Setting this to true means that after the tool is called,\n     * an agent should stop looping.\n     *\n     * @default false\n     */\n    returnDirect?: boolean;\n    /**\n     * An API wrapper that can be used to interact with the Tavily Research API. Useful for testing.\n     *\n     * If specified, the tool will use this API wrapper instead of creating a new one, and fields used\n     * in API Wrapper initialization, like {@link TavilyResearchAPIRetrieverFields.tavilyApiKey}, will be\n     * ignored.\n     */\n    apiWrapper?: TavilyResearchAPIWrapper;\n};\ndeclare const inputSchema: z.ZodObject<{\n    input: z.ZodString;\n    model: z.ZodOptional<z.ZodEnum<[\"mini\", \"pro\", \"auto\"]>>;\n    outputSchema: z.ZodOptional<z.ZodObject<{\n        properties: z.ZodRecord<z.ZodString, z.ZodTypeAny>;\n        required: z.ZodOptional<z.ZodArray<z.ZodString, \"many\">>;\n    }, \"strip\", z.ZodTypeAny, {\n        properties: Record<string, any>;\n        required?: string[] | undefined;\n    }, {\n        properties: Record<string, any>;\n        required?: string[] | undefined;\n    }>>;\n    stream: z.ZodOptional<z.ZodBoolean>;\n    citationFormat: z.ZodOptional<z.ZodEnum<[\"numbered\", \"mla\", \"apa\", \"chicago\"]>>;\n}, \"strip\", z.ZodTypeAny, {\n    input: string;\n    model?: \"auto\" | \"mini\" | \"pro\" | undefined;\n    outputSchema?: {\n        properties: Record<string, any>;\n        required?: string[] | undefined;\n    } | undefined;\n    stream?: boolean | undefined;\n    citationFormat?: \"apa\" | \"chicago\" | \"mla\" | \"numbered\" | undefined;\n}, {\n    input: string;\n    model?: \"auto\" | \"mini\" | \"pro\" | undefined;\n    outputSchema?: {\n        properties: Record<string, any>;\n        required?: string[] | undefined;\n    } | undefined;\n    stream?: boolean | undefined;\n    citationFormat?: \"apa\" | \"chicago\" | \"mla\" | \"numbered\" | undefined;\n}>;\n/**\n * A Tool for performing comprehensive research with the Tavily Research API.\n * Extends the StructuredTool class and provides an intelligent research agent\n * that can answer complex questions and gather in-depth information.\n *\n * Authentication is handled via an API key, which can be passed during\n * instantiation or set as an environment variable `TAVILY_API_KEY`.\n *\n * Example:\n * ```typescript\n * const tool = new TavilyResearch({\n *   model: \"pro\",\n *   citationFormat: \"apa\",\n *   tavilyApiKey: \"YOUR_API_KEY\"\n * });\n * const results = await tool.invoke({\n *   input: \"What are the latest developments in quantum computing?\"\n * });\n * console.log(results);\n * ```\n */\nexport declare class TavilyResearch extends StructuredTool<typeof inputSchema> {\n    static lc_name(): string;\n    description: string;\n    name: string;\n    schema: z.ZodObject<{\n        input: z.ZodString;\n        model: z.ZodOptional<z.ZodEnum<[\"mini\", \"pro\", \"auto\"]>>;\n        outputSchema: z.ZodOptional<z.ZodObject<{\n            properties: z.ZodRecord<z.ZodString, z.ZodTypeAny>;\n            required: z.ZodOptional<z.ZodArray<z.ZodString, \"many\">>;\n        }, \"strip\", z.ZodTypeAny, {\n            properties: Record<string, any>;\n            required?: string[] | undefined;\n        }, {\n            properties: Record<string, any>;\n            required?: string[] | undefined;\n        }>>;\n        stream: z.ZodOptional<z.ZodBoolean>;\n        citationFormat: z.ZodOptional<z.ZodEnum<[\"numbered\", \"mla\", \"apa\", \"chicago\"]>>;\n    }, \"strip\", z.ZodTypeAny, {\n        input: string;\n        model?: \"auto\" | \"mini\" | \"pro\" | undefined;\n        outputSchema?: {\n            properties: Record<string, any>;\n            required?: string[] | undefined;\n        } | undefined;\n        stream?: boolean | undefined;\n        citationFormat?: \"apa\" | \"chicago\" | \"mla\" | \"numbered\" | undefined;\n    }, {\n        input: string;\n        model?: \"auto\" | \"mini\" | \"pro\" | undefined;\n        outputSchema?: {\n            properties: Record<string, any>;\n            required?: string[] | undefined;\n        } | undefined;\n        stream?: boolean | undefined;\n        citationFormat?: \"apa\" | \"chicago\" | \"mla\" | \"numbered\" | undefined;\n    }>;\n    apiBaseUrl?: string;\n    model?: ResearchModel;\n    outputSchema?: Record<string, unknown>;\n    enableStream?: boolean;\n    citationFormat?: CitationFormat;\n    private apiWrapper;\n    constructor(params?: TavilyResearchAPIRetrieverFields);\n    _call(input: InferInteropZodOutput<typeof inputSchema>, _runManager?: CallbackManagerForToolRun): Promise<TavilyResearchQueueResponse | AsyncGenerator<Buffer, void, unknown> | {\n        error: string;\n    }>;\n}\nexport {};\n//# sourceMappingURL=tavily-research.d.ts.map"],"mappings":";;;;;;;KAKYO,aAAAA;KACAC,cAAAA;AADAD,KAEAE,gCAAAA,GAAmCP,UAFtB,GAAA;EACbM;AACZ;;EAcYD,UAAAA,CAAAA,EAAAA,MAAAA;EAmCOG;;;EA0CsB,YAAA,CAAA,EAAA,MAAA;EAE3BC;;;;;EAIiCI,KAAAA,CAAAA,EAnFnCR,aAmFmCQ;EAAzBC;;;;;;;;;;;;;;;;;AAJgB;AAuDtC;;;;;;;;;;;;;;;;EAiBgCG,YAAAA,CAAAA,EApHbT,MAoHaS,CAAAA,MAAAA,EAAAA,OAAAA,CAAAA;EAAdL;;;;;;EAbJI,MAAAA,CAAAA,EAAAA,OAAAA;EAmCFX;;;;;EAMKH,cAAAA,CAAAA,EAnIII,cAmIJJ;EAAyDJ;;;;;EA7C9BC,IAAAA,CAAAA,EAAAA,MAAAA;EAAc;;;;;;;;;;;;;;;;;;;;;;eAzDzCI;;cAEHM,aAAaR,CAAAA,CAAEe;SAClBf,CAAAA,CAAES;SACFT,CAAAA,CAAEW,YAAYX,CAAAA,CAAEU;gBACTV,CAAAA,CAAEW,YAAYX,CAAAA,CAAEe;gBACdf,CAAAA,CAAEa,UAAUb,CAAAA,CAAES,WAAWT,CAAAA,CAAEY;cAC7BZ,CAAAA,CAAEW,YAAYX,CAAAA,CAAEc,SAASd,CAAAA,CAAES;cAC7BT,CAAAA,CAAEY;gBACEL;;;gBAGAA;;;UAGRP,CAAAA,CAAEW,YAAYX,CAAAA,CAAEgB;kBACRhB,CAAAA,CAAEW,YAAYX,CAAAA,CAAEU;YACxBV,CAAAA,CAAEY;;;;gBAIML;;;;;;;;;gBASAA;;;;;;;;;;;;;;;;;;;;;;;;;;;cA2BCU,cAAAA,SAAuBnB,sBAAsBU;;;;UAItDR,CAAAA,CAAEe;WACCf,CAAAA,CAAES;WACFT,CAAAA,CAAEW,YAAYX,CAAAA,CAAEU;kBACTV,CAAAA,CAAEW,YAAYX,CAAAA,CAAEe;kBACdf,CAAAA,CAAEa,UAAUb,CAAAA,CAAES,WAAWT,CAAAA,CAAEY;gBAC7BZ,CAAAA,CAAEW,YAAYX,CAAAA,CAAEc,SAASd,CAAAA,CAAES;gBAC7BT,CAAAA,CAAEY;kBACEL;;;kBAGAA;;;YAGRP,CAAAA,CAAEW,YAAYX,CAAAA,CAAEgB;oBACRhB,CAAAA,CAAEW,YAAYX,CAAAA,CAAEU;cACxBV,CAAAA,CAAEY;;;;kBAIML;;;;;;;;;kBASAA;;;;;;;UAOZH;iBACOG;;mBAEEF;;uBAEIC;eACRL,6BAA6BO,4BAA4BX,4BAA4BuB,QAAQjB,8BAA8BgB,eAAeD"}